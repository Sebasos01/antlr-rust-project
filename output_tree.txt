crate
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                borrow
            ::
            simplePathSegment
              identifier
                Cow
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                collections
            ::
            simplePathSegment
              identifier
                VecDeque
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                fmt
          ::
          {
          useTree
            simplePath
              simplePathSegment
                self
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Display
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Formatter
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                fs
            ::
            simplePathSegment
              identifier
                File
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                io
          ::
          {
          useTree
            simplePath
              simplePathSegment
                self
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  ErrorKind
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Read
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Write
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                num
            ::
            simplePathSegment
              identifier
                NonZeroUsize
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                sync
            ::
            simplePathSegment
              identifier
                mpsc
          ::
          {
          useTree
            simplePath
              simplePathSegment
                self
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Receiver
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Sender
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  TryRecvError
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                sync
            ::
            simplePathSegment
              identifier
                Arc
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                thread
            ::
            simplePathSegment
              identifier
                JoinHandle
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                std
            ::
            simplePathSegment
              identifier
                time
            ::
            simplePathSegment
              identifier
                Instant
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                log
            ::
            simplePathSegment
              identifier
                error
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                polling
          ::
          {
          useTree
            simplePath
              simplePathSegment
                identifier
                  Event
            as
            identifier
              PollingEvent
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Events
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  PollMode
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              crate
            ::
            simplePathSegment
              identifier
                event
          ::
          {
          useTree
            simplePath
              simplePathSegment
                self
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  Event
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  EventListener
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  WindowSize
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              crate
            ::
            simplePathSegment
              identifier
                sync
            ::
            simplePathSegment
              identifier
                FairMutex
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              crate
            ::
            simplePathSegment
              identifier
                term
            ::
            simplePathSegment
              identifier
                Term
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              crate
          ::
          {
          useTree
            simplePath
              simplePathSegment
                identifier
                  thread
          ,
          useTree
            simplePath
              simplePathSegment
                identifier
                  tty
          }
        ;
  item
    visItem
      useDeclaration
        use
        useTree
          simplePath
            simplePathSegment
              identifier
                vte
            ::
            simplePathSegment
              identifier
                ansi
        ;
  item
    visItem
      visibility
        pub
        (
        crate
        )
      constantItem
        const
        identifier
          READ_BUFFER_SIZE
        :
        type_
          typeNoBounds
            traitObjectTypeOneBound
              traitBound
                typePath
                  typePathSegment
                    pathIdentSegment
                      identifier
                        usize
        =
        expression
          literalExpression
            0x10_0000
        ;
  item
    visItem
      constantItem
        const
        identifier
          MAX_LOCKED_READ
        :
        type_
          typeNoBounds
            traitObjectTypeOneBound
              traitBound
                typePath
                  typePathSegment
                    pathIdentSegment
                      identifier
                        usize
        =
        expression
          expression
            pathExpression
              pathInExpression
                pathExprSegment
                  pathIdentSegment
                    identifier
                      u16
                ::
                pathExprSegment
                  pathIdentSegment
                    identifier
                      MAX
          as
          typeNoBounds
            traitObjectTypeOneBound
              traitBound
                typePath
                  typePathSegment
                    pathIdentSegment
                      identifier
                        usize
        ;
  item
    outerAttribute
      #
      [
      attr
        simplePath
          simplePathSegment
            identifier
              derive
        attrInput
          delimTokenTree
            (
            tokenTree
              tokenTreeToken
                macroIdentifierLikeToken
                  identifier
                    Debug
            )
      ]
    visItem
      visibility
        pub
      enumeration
        enum
        identifier
          Msg
        {
        enumItems
          enumItem
            identifier
              Input
            enumItemTuple
              (
              tupleFields
                tupleField
                  type_
                    typeNoBounds
                      traitObjectTypeOneBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  Cow
                              genericArgs
                                <
                                genericArgsLifetimes
                                  lifetime
                                    'static
                                ,
                                genericArgsTypes
                                  type_
                                    typeNoBounds
                                      sliceType
                                        [
                                        type_
                                          typeNoBounds
                                            traitObjectTypeOneBound
                                              traitBound
                                                typePath
                                                  typePathSegment
                                                    pathIdentSegment
                                                      identifier
                                                        u8
                                        ]
                                >
              )
          ,
          enumItem
            identifier
              Shutdown
          ,
          enumItem
            identifier
              Resize
            enumItemTuple
              (
              tupleFields
                tupleField
                  type_
                    typeNoBounds
                      traitObjectTypeOneBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  WindowSize
              )
          ,
        }
  item
    visItem
      visibility
        pub
      struct_
        structStruct
          struct
          identifier
            EventLoop
          genericParams
            <
            genericParam
              typeParam
                identifier
                  T
                :
                typeParamBounds
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              tty
                        ::
                        typePathSegment
                          pathIdentSegment
                            identifier
                              EventedPty
            ,
            genericParam
              typeParam
                identifier
                  U
                :
                typeParamBounds
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              EventListener
            >
          {
          structFields
            structField
              identifier
                poll
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Arc
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              polling
                                        ::
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Poller
                            >
            ,
            structField
              identifier
                pty
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              T
            ,
            structField
              identifier
                rx
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              PeekableReceiver
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Msg
                            >
            ,
            structField
              identifier
                tx
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Sender
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Msg
                            >
            ,
            structField
              identifier
                terminal
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Arc
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              FairMutex
                                          genericArgs
                                            <
                                            genericArgsTypes
                                              type_
                                                typeNoBounds
                                                  traitObjectTypeOneBound
                                                    traitBound
                                                      typePath
                                                        typePathSegment
                                                          pathIdentSegment
                                                            identifier
                                                              Term
                                                          genericArgs
                                                            <
                                                            genericArgsTypes
                                                              type_
                                                                typeNoBounds
                                                                  traitObjectTypeOneBound
                                                                    traitBound
                                                                      typePath
                                                                        typePathSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              U
                                                            >
                                            >
                            >
            ,
            structField
              identifier
                event_proxy
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              U
            ,
            structField
              identifier
                drain_on_exit
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              bool
            ,
            structField
              identifier
                ref_test
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              bool
            ,
          }
  item
    visItem
      implementation
        inherentImpl
          impl
          genericParams
            <
            genericParam
              typeParam
                identifier
                  T
            ,
            genericParam
              typeParam
                identifier
                  U
            >
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          EventLoop
                      genericArgs
                        <
                        genericArgsTypes
                          type_
                            typeNoBounds
                              traitObjectTypeOneBound
                                traitBound
                                  typePath
                                    typePathSegment
                                      pathIdentSegment
                                        identifier
                                          T
                          ,
                          type_
                            typeNoBounds
                              traitObjectTypeOneBound
                                traitBound
                                  typePath
                                    typePathSegment
                                      pathIdentSegment
                                        identifier
                                          U
                        >
          whereClause
            where
            whereClauseItem
              typeBoundWhereClauseItem
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                T
                :
                typeParamBounds
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              tty
                        ::
                        typePathSegment
                          pathIdentSegment
                            identifier
                              EventedPty
                  +
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              event
                        ::
                        typePathSegment
                          pathIdentSegment
                            identifier
                              OnResize
                  +
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Send
                  +
                  typeParamBound
                    lifetime
                      'static
            ,
            whereClauseItem
              typeBoundWhereClauseItem
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                U
                :
                typeParamBounds
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              EventListener
                  +
                  typeParamBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Send
                  +
                  typeParamBound
                    lifetime
                      'static
            ,
          {
          associatedItem
            visibility
              pub
            function_
              functionQualifiers
              fn
              identifier
                new
              (
              functionParameters
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              terminal
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Arc
                                genericArgs
                                  <
                                  genericArgsTypes
                                    type_
                                      typeNoBounds
                                        traitObjectTypeOneBound
                                          traitBound
                                            typePath
                                              typePathSegment
                                                pathIdentSegment
                                                  identifier
                                                    FairMutex
                                                genericArgs
                                                  <
                                                  genericArgsTypes
                                                    type_
                                                      typeNoBounds
                                                        traitObjectTypeOneBound
                                                          traitBound
                                                            typePath
                                                              typePathSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    Term
                                                                genericArgs
                                                                  <
                                                                  genericArgsTypes
                                                                    type_
                                                                      typeNoBounds
                                                                        traitObjectTypeOneBound
                                                                          traitBound
                                                                            typePath
                                                                              typePathSegment
                                                                                pathIdentSegment
                                                                                  identifier
                                                                                    U
                                                                  >
                                                  >
                                  >
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              event_proxy
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    U
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              pty
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    T
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              drain_on_exit
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    bool
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              ref_test
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    bool
                ,
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                io
                          ::
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Result
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    traitObjectTypeOneBound
                                      traitBound
                                        typePath
                                          typePathSegment
                                            pathIdentSegment
                                              identifier
                                                EventLoop
                                            genericArgs
                                              <
                                              genericArgsTypes
                                                type_
                                                  typeNoBounds
                                                    traitObjectTypeOneBound
                                                      traitBound
                                                        typePath
                                                          typePathSegment
                                                            pathIdentSegment
                                                              identifier
                                                                T
                                                ,
                                                type_
                                                  typeNoBounds
                                                    traitObjectTypeOneBound
                                                      traitBound
                                                        typePath
                                                          typePathSegment
                                                            pathIdentSegment
                                                              identifier
                                                                U
                                              >
                              >
              blockExpression
                {
                statements
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          tuplePattern
                            (
                            tuplePatternItems
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    identifierPattern
                                      identifier
                                        tx
                              ,
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    identifierPattern
                                      identifier
                                        rx
                            )
                      =
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    mpsc
                              ::
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    channel
                        (
                        )
                      ;
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              poll
                      =
                      expression
                        expression
                          expression
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        polling
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Poller
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        new
                            (
                            )
                          ?
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              into
                        (
                        )
                      ;
                  expression
                    expression
                      pathExpression
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                Ok
                    (
                    callParams
                      expression
                        structExpression
                          structExprStruct
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    EventLoop
                            {
                            structExprFields
                              structExprField
                                identifier
                                  poll
                              ,
                              structExprField
                                identifier
                                  pty
                              ,
                              structExprField
                                identifier
                                  tx
                              ,
                              structExprField
                                identifier
                                  rx
                                :
                                expression
                                  expression
                                    pathExpression
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              PeekableReceiver
                                        ::
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              new
                                  (
                                  callParams
                                    expression
                                      pathExpression
                                        pathInExpression
                                          pathExprSegment
                                            pathIdentSegment
                                              identifier
                                                rx
                                  )
                              ,
                              structExprField
                                identifier
                                  terminal
                              ,
                              structExprField
                                identifier
                                  event_proxy
                              ,
                              structExprField
                                identifier
                                  drain_on_exit
                              ,
                              structExprField
                                identifier
                                  ref_test
                              ,
                            }
                    )
                }
          associatedItem
            visibility
              pub
            function_
              functionQualifiers
              fn
              identifier
                channel
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                EventLoopSender
              blockExpression
                {
                statements
                  expression
                    structExpression
                      structExprStruct
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                EventLoopSender
                        {
                        structExprFields
                          structExprField
                            identifier
                              sender
                            :
                            expression
                              expression
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          self
                                .
                                identifier
                                  tx
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    clone
                              (
                              )
                          ,
                          structExprField
                            identifier
                              poller
                            :
                            expression
                              expression
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          self
                                .
                                identifier
                                  poll
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    clone
                              (
                              )
                        }
                }
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                drain_recv_channel
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              state
                    :
                    type_
                      typeNoBounds
                        referenceType
                          &
                          mut
                          typeNoBounds
                            traitObjectTypeOneBound
                              traitBound
                                typePath
                                  typePathSegment
                                    pathIdentSegment
                                      identifier
                                        State
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                bool
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        loopExpression
                          predicatePatternLoopExpression
                            while
                            let
                            pattern
                              patternNoTopAlt
                                patternWithoutRange
                                  tupleStructPattern
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            Some
                                    (
                                    tupleStructItems
                                      pattern
                                        patternNoTopAlt
                                          patternWithoutRange
                                            identifierPattern
                                              identifier
                                                msg
                                    )
                            =
                            expression
                              expression
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          self
                                .
                                identifier
                                  rx
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    recv
                              (
                              )
                            blockExpression
                              {
                              statements
                                statement
                                  expressionStatement
                                    expressionWithBlock
                                      matchExpression
                                        match
                                        expression
                                          pathExpression
                                            pathInExpression
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    msg
                                        {
                                        matchArms
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  tupleStructPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Msg
                                                      ::
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Input
                                                    (
                                                    tupleStructItems
                                                      pattern
                                                        patternNoTopAlt
                                                          patternWithoutRange
                                                            identifierPattern
                                                              identifier
                                                                input
                                                    )
                                          =>
                                          matchArmExpression
                                            expression
                                              expression
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            state
                                                .
                                                identifier
                                                  write_list
                                              .
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    push_back
                                              (
                                              callParams
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            input
                                              )
                                            ,
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  tupleStructPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Msg
                                                      ::
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Resize
                                                    (
                                                    tupleStructItems
                                                      pattern
                                                        patternNoTopAlt
                                                          patternWithoutRange
                                                            identifierPattern
                                                              identifier
                                                                window_size
                                                    )
                                          =>
                                          matchArmExpression
                                            expression
                                              expression
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          self
                                                .
                                                identifier
                                                  pty
                                              .
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    on_resize
                                              (
                                              callParams
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            window_size
                                              )
                                            ,
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  pathPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Msg
                                                      ::
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Shutdown
                                          =>
                                          expression
                                            return
                                            expression
                                              literalExpression
                                                false
                                          ,
                                        }
                              }
                  expression
                    literalExpression
                      true
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                pty_read
              genericParams
                <
                genericParam
                  typeParam
                    identifier
                      X
                >
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              state
                    :
                    type_
                      typeNoBounds
                        referenceType
                          &
                          mut
                          typeNoBounds
                            traitObjectTypeOneBound
                              traitBound
                                typePath
                                  typePathSegment
                                    pathIdentSegment
                                      identifier
                                        State
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              buf
                    :
                    type_
                      typeNoBounds
                        referenceType
                          &
                          mut
                          typeNoBounds
                            sliceType
                              [
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              u8
                              ]
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            mut
                            identifier
                              writer
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Option
                                genericArgs
                                  <
                                  genericArgsTypes
                                    type_
                                      typeNoBounds
                                        referenceType
                                          &
                                          mut
                                          typeNoBounds
                                            traitObjectTypeOneBound
                                              traitBound
                                                typePath
                                                  typePathSegment
                                                    pathIdentSegment
                                                      identifier
                                                        X
                                  >
                ,
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                io
                          ::
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Result
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    tupleType
                                      (
                                      )
                              >
              whereClause
                where
                whereClauseItem
                  typeBoundWhereClauseItem
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    X
                    :
                    typeParamBounds
                      typeParamBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  Write
                ,
              blockExpression
                {
                statements
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            mut
                            identifier
                              unprocessed
                      =
                      expression
                        literalExpression
                          0
                      ;
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            mut
                            identifier
                              processed
                      =
                      expression
                        literalExpression
                          0
                      ;
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              _terminal_lease
                      =
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    Some
                        (
                        callParams
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                terminal
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  lease
                            (
                            )
                        )
                      ;
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            mut
                            identifier
                              terminal
                      =
                      expression
                        pathExpression
                          pathInExpression
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  None
                      ;
                  statement
                    expressionStatement
                      expressionWithBlock
                        loopExpression
                          infiniteLoopExpression
                            loop
                            blockExpression
                              {
                              statements
                                statement
                                  expressionStatement
                                    expressionWithBlock
                                      matchExpression
                                        match
                                        expression
                                          expression
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        self
                                              .
                                              identifier
                                                pty
                                            .
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  reader
                                            (
                                            )
                                          .
                                          pathExprSegment
                                            pathIdentSegment
                                              identifier
                                                read
                                          (
                                          callParams
                                            expression
                                              &
                                              mut
                                              expression
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            buf
                                                [
                                                expression
                                                  expression
                                                    pathExpression
                                                      pathInExpression
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              unprocessed
                                                  ..
                                                ]
                                          )
                                        {
                                        matchArms
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  tupleStructPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Ok
                                                    (
                                                    tupleStructItems
                                                      pattern
                                                        patternNoTopAlt
                                                          patternWithoutRange
                                                            literalPattern
                                                              0
                                                    )
                                            matchArmGuard
                                              if
                                              expression
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            unprocessed
                                                comparisonOperator
                                                  ==
                                                expression
                                                  literalExpression
                                                    0
                                          =>
                                          matchArmExpression
                                            expression
                                              break
                                            ,
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  tupleStructPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Ok
                                                    (
                                                    tupleStructItems
                                                      pattern
                                                        patternNoTopAlt
                                                          patternWithoutRange
                                                            identifierPattern
                                                              identifier
                                                                got
                                                    )
                                          =>
                                          matchArmExpression
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          unprocessed
                                              compoundAssignOperator
                                                +=
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          got
                                            ,
                                          matchArm
                                            pattern
                                              patternNoTopAlt
                                                patternWithoutRange
                                                  tupleStructPattern
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Err
                                                    (
                                                    tupleStructItems
                                                      pattern
                                                        patternNoTopAlt
                                                          patternWithoutRange
                                                            identifierPattern
                                                              identifier
                                                                err
                                                    )
                                          =>
                                          expression
                                            expressionWithBlock
                                              matchExpression
                                                match
                                                expression
                                                  expression
                                                    pathExpression
                                                      pathInExpression
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              err
                                                  .
                                                  pathExprSegment
                                                    pathIdentSegment
                                                      identifier
                                                        kind
                                                  (
                                                  )
                                                {
                                                matchArms
                                                  matchArm
                                                    pattern
                                                      patternNoTopAlt
                                                        patternWithoutRange
                                                          pathPattern
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    ErrorKind
                                                              ::
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    Interrupted
                                                      |
                                                      patternNoTopAlt
                                                        patternWithoutRange
                                                          pathPattern
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    ErrorKind
                                                              ::
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    WouldBlock
                                                  =>
                                                  matchArmExpression
                                                    expression
                                                      expressionWithBlock
                                                        blockExpression
                                                          {
                                                          statements
                                                            statement
                                                              expressionStatement
                                                                expressionWithBlock
                                                                  ifExpression
                                                                    if
                                                                    expression
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  unprocessed
                                                                      comparisonOperator
                                                                        ==
                                                                      expression
                                                                        literalExpression
                                                                          0
                                                                    blockExpression
                                                                      {
                                                                      statements
                                                                        statement
                                                                          expressionStatement
                                                                            expression
                                                                              break
                                                                            ;
                                                                      }
                                                          }
                                                    ,
                                                  matchArm
                                                    pattern
                                                      patternNoTopAlt
                                                        patternWithoutRange
                                                          wildcardPattern
                                                            _
                                                  =>
                                                  expression
                                                    return
                                                    expression
                                                      expression
                                                        pathExpression
                                                          pathInExpression
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  Err
                                                      (
                                                      callParams
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    err
                                                      )
                                                  ,
                                                }
                                          ,
                                        }
                                statement
                                  letStatement
                                    let
                                    patternNoTopAlt
                                      patternWithoutRange
                                        identifierPattern
                                          identifier
                                            terminal
                                    =
                                    expression
                                      expressionWithBlock
                                        matchExpression
                                          match
                                          expression
                                            &
                                            mut
                                            expression
                                              pathExpression
                                                pathInExpression
                                                  pathExprSegment
                                                    pathIdentSegment
                                                      identifier
                                                        terminal
                                          {
                                          matchArms
                                            matchArm
                                              pattern
                                                patternNoTopAlt
                                                  patternWithoutRange
                                                    tupleStructPattern
                                                      pathInExpression
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              Some
                                                      (
                                                      tupleStructItems
                                                        pattern
                                                          patternNoTopAlt
                                                            patternWithoutRange
                                                              identifierPattern
                                                                identifier
                                                                  terminal
                                                      )
                                            =>
                                            matchArmExpression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          terminal
                                              ,
                                            matchArm
                                              pattern
                                                patternNoTopAlt
                                                  patternWithoutRange
                                                    identifierPattern
                                                      identifier
                                                        None
                                            =>
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          terminal
                                              .
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    insert
                                              (
                                              callParams
                                                expression
                                                  expressionWithBlock
                                                    matchExpression
                                                      match
                                                      expression
                                                        expression
                                                          expression
                                                            pathExpression
                                                              pathInExpression
                                                                pathExprSegment
                                                                  pathIdentSegment
                                                                    self
                                                          .
                                                          identifier
                                                            terminal
                                                        .
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              try_lock_unfair
                                                        (
                                                        )
                                                      {
                                                      matchArms
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                identifierPattern
                                                                  identifier
                                                                    None
                                                          matchArmGuard
                                                            if
                                                            expression
                                                              expression
                                                                pathExpression
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          unprocessed
                                                              comparisonOperator
                                                                >=
                                                              expression
                                                                pathExpression
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          READ_BUFFER_SIZE
                                                        =>
                                                        matchArmExpression
                                                          expression
                                                            expression
                                                              expression
                                                                pathExpression
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        self
                                                              .
                                                              identifier
                                                                terminal
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  lock_unfair
                                                            (
                                                            )
                                                          ,
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                identifierPattern
                                                                  identifier
                                                                    None
                                                        =>
                                                        matchArmExpression
                                                          expression
                                                            continue
                                                          ,
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                tupleStructPattern
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          Some
                                                                  (
                                                                  tupleStructItems
                                                                    pattern
                                                                      patternNoTopAlt
                                                                        patternWithoutRange
                                                                          identifierPattern
                                                                            identifier
                                                                              terminal
                                                                  )
                                                        =>
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    terminal
                                                        ,
                                                      }
                                              )
                                            ,
                                          }
                                    ;
                                statement
                                  expressionStatement
                                    expressionWithBlock
                                      ifLetExpression
                                        if
                                        let
                                        pattern
                                          patternNoTopAlt
                                            patternWithoutRange
                                              tupleStructPattern
                                                pathInExpression
                                                  pathExprSegment
                                                    pathIdentSegment
                                                      identifier
                                                        Some
                                                (
                                                tupleStructItems
                                                  pattern
                                                    patternNoTopAlt
                                                      patternWithoutRange
                                                        identifierPattern
                                                          identifier
                                                            writer
                                                )
                                        =
                                        expression
                                          &
                                          mut
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    identifier
                                                      writer
                                        blockExpression
                                          {
                                          statements
                                            statement
                                              expressionStatement
                                                expression
                                                  expression
                                                    expression
                                                      pathExpression
                                                        pathInExpression
                                                          pathExprSegment
                                                            pathIdentSegment
                                                              identifier
                                                                writer
                                                    .
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          write_all
                                                    (
                                                    callParams
                                                      expression
                                                        &
                                                        expression
                                                          expression
                                                            pathExpression
                                                              pathInExpression
                                                                pathExprSegment
                                                                  pathIdentSegment
                                                                    identifier
                                                                      buf
                                                          [
                                                          expression
                                                            ..
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        unprocessed
                                                          ]
                                                    )
                                                  .
                                                  pathExprSegment
                                                    pathIdentSegment
                                                      identifier
                                                        unwrap
                                                  (
                                                  )
                                                ;
                                          }
                                statement
                                  expressionStatement
                                    expression
                                      expression
                                        expression
                                          pathExpression
                                            pathInExpression
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    state
                                        .
                                        identifier
                                          parser
                                      .
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            advance
                                      (
                                      callParams
                                        expression
                                          &
                                          mut
                                          expression
                                            *
                                            expression
                                              *
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          terminal
                                        ,
                                        expression
                                          &
                                          expression
                                            expression
                                              pathExpression
                                                pathInExpression
                                                  pathExprSegment
                                                    pathIdentSegment
                                                      identifier
                                                        buf
                                            [
                                            expression
                                              ..
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          unprocessed
                                            ]
                                      )
                                    ;
                                statement
                                  expressionStatement
                                    expression
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  processed
                                      compoundAssignOperator
                                        +=
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  unprocessed
                                    ;
                                statement
                                  expressionStatement
                                    expression
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  unprocessed
                                      =
                                      expression
                                        literalExpression
                                          0
                                    ;
                                statement
                                  expressionStatement
                                    expressionWithBlock
                                      ifExpression
                                        if
                                        expression
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    identifier
                                                      processed
                                          comparisonOperator
                                            >=
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    identifier
                                                      MAX_LOCKED_READ
                                        blockExpression
                                          {
                                          statements
                                            statement
                                              expressionStatement
                                                expression
                                                  break
                                                ;
                                          }
                              }
                  statement
                    expressionStatement
                      expressionWithBlock
                        ifExpression
                          if
                          expression
                            expression
                              expression
                                expression
                                  expression
                                    pathExpression
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              state
                                  .
                                  identifier
                                    parser
                                .
                                pathExprSegment
                                  pathIdentSegment
                                    identifier
                                      sync_bytes_count
                                (
                                )
                              comparisonOperator
                                <
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          processed
                            &&
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          processed
                              comparisonOperator
                                >
                              expression
                                literalExpression
                                  0
                          blockExpression
                            {
                            statements
                              statement
                                expressionStatement
                                  expression
                                    expression
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                self
                                      .
                                      identifier
                                        event_proxy
                                    .
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          send_event
                                    (
                                    callParams
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  Event
                                            ::
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  Wakeup
                                    )
                                  ;
                            }
                  expression
                    expression
                      pathExpression
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                Ok
                    (
                    callParams
                      expression
                        (
                        )
                    )
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                pty_write
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              state
                    :
                    type_
                      typeNoBounds
                        referenceType
                          &
                          mut
                          typeNoBounds
                            traitObjectTypeOneBound
                              traitBound
                                typePath
                                  typePathSegment
                                    pathIdentSegment
                                      identifier
                                        State
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                io
                          ::
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Result
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    tupleType
                                      (
                                      )
                              >
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    state
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              ensure_next
                        (
                        )
                      ;
                  statement
                    expressionStatement
                      expressionWithBlock
                        loopExpression
                          loopLabel
                            'write_many
                            :
                          predicatePatternLoopExpression
                            while
                            let
                            pattern
                              patternNoTopAlt
                                patternWithoutRange
                                  tupleStructPattern
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            Some
                                    (
                                    tupleStructItems
                                      pattern
                                        patternNoTopAlt
                                          patternWithoutRange
                                            identifierPattern
                                              mut
                                              identifier
                                                current
                                    )
                            =
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          state
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    take_current
                              (
                              )
                            blockExpression
                              {
                              statements
                                statement
                                  expressionStatement
                                    expressionWithBlock
                                      loopExpression
                                        loopLabel
                                          'write_one
                                          :
                                        infiniteLoopExpression
                                          loop
                                          blockExpression
                                            {
                                            statements
                                              statement
                                                expressionStatement
                                                  expressionWithBlock
                                                    matchExpression
                                                      match
                                                      expression
                                                        expression
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      self
                                                            .
                                                            identifier
                                                              pty
                                                          .
                                                          pathExprSegment
                                                            pathIdentSegment
                                                              identifier
                                                                writer
                                                          (
                                                          )
                                                        .
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              write
                                                        (
                                                        callParams
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        current
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  remaining_bytes
                                                            (
                                                            )
                                                        )
                                                      {
                                                      matchArms
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                tupleStructPattern
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          Ok
                                                                  (
                                                                  tupleStructItems
                                                                    pattern
                                                                      patternNoTopAlt
                                                                        patternWithoutRange
                                                                          literalPattern
                                                                            0
                                                                  )
                                                        =>
                                                        matchArmExpression
                                                          expression
                                                            expressionWithBlock
                                                              blockExpression
                                                                {
                                                                statements
                                                                  statement
                                                                    expressionStatement
                                                                      expression
                                                                        expression
                                                                          pathExpression
                                                                            pathInExpression
                                                                              pathExprSegment
                                                                                pathIdentSegment
                                                                                  identifier
                                                                                    state
                                                                        .
                                                                        pathExprSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              set_current
                                                                        (
                                                                        callParams
                                                                          expression
                                                                            expression
                                                                              pathExpression
                                                                                pathInExpression
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      identifier
                                                                                        Some
                                                                            (
                                                                            callParams
                                                                              expression
                                                                                pathExpression
                                                                                  pathInExpression
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          current
                                                                            )
                                                                        )
                                                                      ;
                                                                  statement
                                                                    expressionStatement
                                                                      expression
                                                                        break
                                                                        'write_many
                                                                      ;
                                                                }
                                                          ,
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                tupleStructPattern
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          Ok
                                                                  (
                                                                  tupleStructItems
                                                                    pattern
                                                                      patternNoTopAlt
                                                                        patternWithoutRange
                                                                          identifierPattern
                                                                            identifier
                                                                              n
                                                                  )
                                                        =>
                                                        matchArmExpression
                                                          expression
                                                            expressionWithBlock
                                                              blockExpression
                                                                {
                                                                statements
                                                                  statement
                                                                    expressionStatement
                                                                      expression
                                                                        expression
                                                                          pathExpression
                                                                            pathInExpression
                                                                              pathExprSegment
                                                                                pathIdentSegment
                                                                                  identifier
                                                                                    current
                                                                        .
                                                                        pathExprSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              advance
                                                                        (
                                                                        callParams
                                                                          expression
                                                                            pathExpression
                                                                              pathInExpression
                                                                                pathExprSegment
                                                                                  pathIdentSegment
                                                                                    identifier
                                                                                      n
                                                                        )
                                                                      ;
                                                                  statement
                                                                    expressionStatement
                                                                      expressionWithBlock
                                                                        ifExpression
                                                                          if
                                                                          expression
                                                                            expression
                                                                              pathExpression
                                                                                pathInExpression
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      identifier
                                                                                        current
                                                                            .
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  finished
                                                                            (
                                                                            )
                                                                          blockExpression
                                                                            {
                                                                            statements
                                                                              statement
                                                                                expressionStatement
                                                                                  expression
                                                                                    expression
                                                                                      pathExpression
                                                                                        pathInExpression
                                                                                          pathExprSegment
                                                                                            pathIdentSegment
                                                                                              identifier
                                                                                                state
                                                                                    .
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          goto_next
                                                                                    (
                                                                                    )
                                                                                  ;
                                                                              statement
                                                                                expressionStatement
                                                                                  expression
                                                                                    break
                                                                                    'write_one
                                                                                  ;
                                                                            }
                                                                }
                                                          ,
                                                        matchArm
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                tupleStructPattern
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          Err
                                                                  (
                                                                  tupleStructItems
                                                                    pattern
                                                                      patternNoTopAlt
                                                                        patternWithoutRange
                                                                          identifierPattern
                                                                            identifier
                                                                              err
                                                                  )
                                                        =>
                                                        expression
                                                          expressionWithBlock
                                                            blockExpression
                                                              {
                                                              statements
                                                                statement
                                                                  expressionStatement
                                                                    expression
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  state
                                                                      .
                                                                      pathExprSegment
                                                                        pathIdentSegment
                                                                          identifier
                                                                            set_current
                                                                      (
                                                                      callParams
                                                                        expression
                                                                          expression
                                                                            pathExpression
                                                                              pathInExpression
                                                                                pathExprSegment
                                                                                  pathIdentSegment
                                                                                    identifier
                                                                                      Some
                                                                          (
                                                                          callParams
                                                                            expression
                                                                              pathExpression
                                                                                pathInExpression
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      identifier
                                                                                        current
                                                                          )
                                                                      )
                                                                    ;
                                                                statement
                                                                  expressionStatement
                                                                    expressionWithBlock
                                                                      matchExpression
                                                                        match
                                                                        expression
                                                                          expression
                                                                            pathExpression
                                                                              pathInExpression
                                                                                pathExprSegment
                                                                                  pathIdentSegment
                                                                                    identifier
                                                                                      err
                                                                          .
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                kind
                                                                          (
                                                                          )
                                                                        {
                                                                        matchArms
                                                                          matchArm
                                                                            pattern
                                                                              patternNoTopAlt
                                                                                patternWithoutRange
                                                                                  pathPattern
                                                                                    pathInExpression
                                                                                      pathExprSegment
                                                                                        pathIdentSegment
                                                                                          identifier
                                                                                            ErrorKind
                                                                                      ::
                                                                                      pathExprSegment
                                                                                        pathIdentSegment
                                                                                          identifier
                                                                                            Interrupted
                                                                              |
                                                                              patternNoTopAlt
                                                                                patternWithoutRange
                                                                                  pathPattern
                                                                                    pathInExpression
                                                                                      pathExprSegment
                                                                                        pathIdentSegment
                                                                                          identifier
                                                                                            ErrorKind
                                                                                      ::
                                                                                      pathExprSegment
                                                                                        pathIdentSegment
                                                                                          identifier
                                                                                            WouldBlock
                                                                          =>
                                                                          matchArmExpression
                                                                            expression
                                                                              break
                                                                              'write_many
                                                                            ,
                                                                          matchArm
                                                                            pattern
                                                                              patternNoTopAlt
                                                                                patternWithoutRange
                                                                                  wildcardPattern
                                                                                    _
                                                                          =>
                                                                          expression
                                                                            return
                                                                            expression
                                                                              expression
                                                                                pathExpression
                                                                                  pathInExpression
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          Err
                                                                              (
                                                                              callParams
                                                                                expression
                                                                                  pathExpression
                                                                                    pathInExpression
                                                                                      pathExprSegment
                                                                                        pathIdentSegment
                                                                                          identifier
                                                                                            err
                                                                              )
                                                                          ,
                                                                        }
                                                              }
                                                        ,
                                                      }
                                            }
                              }
                  expression
                    expression
                      pathExpression
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                Ok
                    (
                    callParams
                      expression
                        (
                        )
                    )
                }
          associatedItem
            visibility
              pub
            function_
              functionQualifiers
              fn
              identifier
                spawn
              (
              functionParameters
                selfParam
                  shorthandSelf
                    mut
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                JoinHandle
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    tupleType
                                      (
                                      type_
                                        typeNoBounds
                                          traitObjectTypeOneBound
                                            traitBound
                                              typePath
                                                typePathSegment
                                                  pathIdentSegment
                                                    Self
                                      ,
                                      type_
                                        typeNoBounds
                                          traitObjectTypeOneBound
                                            traitBound
                                              typePath
                                                typePathSegment
                                                  pathIdentSegment
                                                    identifier
                                                      State
                                      )
                              >
              blockExpression
                {
                statements
                  expression
                    expression
                      pathExpression
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                thread
                          ::
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                spawn_named
                    (
                    callParams
                      expression
                        literalExpression
                          "PTY reader"
                      ,
                      expression
                        closureExpression
                          move
                          ||
                          expression
                            expressionWithBlock
                              blockExpression
                                {
                                statements
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            mut
                                            identifier
                                              state
                                      =
                                      expression
                                        expression
                                          pathExpression
                                            pathInExpression
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    State
                                              ::
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    default
                                        (
                                        )
                                      ;
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            mut
                                            identifier
                                              buf
                                      =
                                      expression
                                        [
                                        arrayElements
                                          expression
                                            literalExpression
                                              0u8
                                          ;
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    identifier
                                                      READ_BUFFER_SIZE
                                        ]
                                      ;
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            identifier
                                              poll_opts
                                      =
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  PollMode
                                            ::
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  Level
                                      ;
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            mut
                                            identifier
                                              interest
                                      =
                                      expression
                                        expression
                                          pathExpression
                                            pathInExpression
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    PollingEvent
                                              ::
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    readable
                                        (
                                        callParams
                                          expression
                                            literalExpression
                                              0
                                        )
                                      ;
                                  statement
                                    expressionStatement
                                      expressionWithBlock
                                        ifLetExpression
                                          if
                                          let
                                          pattern
                                            patternNoTopAlt
                                              patternWithoutRange
                                                tupleStructPattern
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          Err
                                                  (
                                                  tupleStructItems
                                                    pattern
                                                      patternNoTopAlt
                                                        patternWithoutRange
                                                          identifierPattern
                                                            identifier
                                                              err
                                                  )
                                          =
                                          expression
                                            expressionWithBlock
                                              unsafeBlockExpression
                                                unsafe
                                                blockExpression
                                                  {
                                                  statements
                                                    expression
                                                      expression
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  self
                                                        .
                                                        identifier
                                                          pty
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            register
                                                      (
                                                      callParams
                                                        expression
                                                          &
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      self
                                                            .
                                                            identifier
                                                              poll
                                                        ,
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    interest
                                                        ,
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    poll_opts
                                                      )
                                                  }
                                          blockExpression
                                            {
                                            statements
                                              statement
                                                item
                                                  macroItem
                                                    macroInvocationSemi
                                                      simplePath
                                                        simplePathSegment
                                                          identifier
                                                            error
                                                      !
                                                      (
                                                      tokenTree
                                                        tokenTreeToken
                                                          macroLiteralToken
                                                            literalExpression
                                                              "Event loop registration error: {}"
                                                        tokenTreeToken
                                                          macroPunctuationToken
                                                            ,
                                                        tokenTreeToken
                                                          macroIdentifierLikeToken
                                                            identifier
                                                              err
                                                      )
                                                      ;
                                              statement
                                                expressionStatement
                                                  expression
                                                    return
                                                    expression
                                                      (
                                                      tupleElements
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  self
                                                        ,
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    state
                                                      )
                                                  ;
                                            }
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            mut
                                            identifier
                                              events
                                      =
                                      expression
                                        expression
                                          pathExpression
                                            pathInExpression
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    Events
                                              ::
                                              pathExprSegment
                                                pathIdentSegment
                                                  identifier
                                                    with_capacity
                                        (
                                        callParams
                                          expression
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          NonZeroUsize
                                                    ::
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          new
                                              (
                                              callParams
                                                expression
                                                  literalExpression
                                                    1024
                                              )
                                            .
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  unwrap
                                            (
                                            )
                                        )
                                      ;
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          identifierPattern
                                            mut
                                            identifier
                                              pipe
                                      =
                                      expression
                                        expressionWithBlock
                                          ifExpression
                                            if
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        self
                                              .
                                              identifier
                                                ref_test
                                            blockExpression
                                              {
                                              statements
                                                expression
                                                  expression
                                                    pathExpression
                                                      pathInExpression
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              Some
                                                  (
                                                  callParams
                                                    expression
                                                      expression
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    File
                                                              ::
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    create
                                                        (
                                                        callParams
                                                          expression
                                                            literalExpression
                                                              "./alacritty.recording"
                                                        )
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            expect
                                                      (
                                                      callParams
                                                        expression
                                                          literalExpression
                                                            "create alacritty recording"
                                                      )
                                                  )
                                              }
                                            else
                                            blockExpression
                                              {
                                              statements
                                                expression
                                                  pathExpression
                                                    pathInExpression
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            None
                                              }
                                      ;
                                  statement
                                    expressionStatement
                                      expressionWithBlock
                                        loopExpression
                                          loopLabel
                                            'event_loop
                                            :
                                          infiniteLoopExpression
                                            loop
                                            blockExpression
                                              {
                                              statements
                                                statement
                                                  letStatement
                                                    let
                                                    patternNoTopAlt
                                                      patternWithoutRange
                                                        identifierPattern
                                                          identifier
                                                            handler
                                                    =
                                                    expression
                                                      expression
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    state
                                                        .
                                                        identifier
                                                          parser
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            sync_timeout
                                                      (
                                                      )
                                                    ;
                                                statement
                                                  letStatement
                                                    let
                                                    patternNoTopAlt
                                                      patternWithoutRange
                                                        identifierPattern
                                                          identifier
                                                            timeout
                                                    =
                                                    expression
                                                      expression
                                                        expression
                                                          pathExpression
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    handler
                                                        .
                                                        pathExprSegment
                                                          pathIdentSegment
                                                            identifier
                                                              sync_timeout
                                                        (
                                                        )
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            map
                                                      (
                                                      callParams
                                                        expression
                                                          closureExpression
                                                            |
                                                            closureParameters
                                                              closureParam
                                                                pattern
                                                                  patternNoTopAlt
                                                                    patternWithoutRange
                                                                      identifierPattern
                                                                        identifier
                                                                          st
                                                            |
                                                            expression
                                                              expression
                                                                pathExpression
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          st
                                                              .
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    saturating_duration_since
                                                              (
                                                              callParams
                                                                expression
                                                                  expression
                                                                    pathExpression
                                                                      pathInExpression
                                                                        pathExprSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              Instant
                                                                        ::
                                                                        pathExprSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              now
                                                                  (
                                                                  )
                                                              )
                                                      )
                                                    ;
                                                statement
                                                  expressionStatement
                                                    expression
                                                      expression
                                                        pathExpression
                                                          pathInExpression
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  events
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            clear
                                                      (
                                                      )
                                                    ;
                                                statement
                                                  expressionStatement
                                                    expressionWithBlock
                                                      ifLetExpression
                                                        if
                                                        let
                                                        pattern
                                                          patternNoTopAlt
                                                            patternWithoutRange
                                                              tupleStructPattern
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        Err
                                                                (
                                                                tupleStructItems
                                                                  pattern
                                                                    patternNoTopAlt
                                                                      patternWithoutRange
                                                                        identifierPattern
                                                                          identifier
                                                                            err
                                                                )
                                                        =
                                                        expression
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      self
                                                            .
                                                            identifier
                                                              poll
                                                          .
                                                          pathExprSegment
                                                            pathIdentSegment
                                                              identifier
                                                                wait
                                                          (
                                                          callParams
                                                            expression
                                                              &
                                                              mut
                                                              expression
                                                                pathExpression
                                                                  pathInExpression
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          events
                                                            ,
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        timeout
                                                          )
                                                        blockExpression
                                                          {
                                                          statements
                                                            statement
                                                              expressionStatement
                                                                expressionWithBlock
                                                                  matchExpression
                                                                    match
                                                                    expression
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  err
                                                                      .
                                                                      pathExprSegment
                                                                        pathIdentSegment
                                                                          identifier
                                                                            kind
                                                                      (
                                                                      )
                                                                    {
                                                                    matchArms
                                                                      matchArm
                                                                        pattern
                                                                          patternNoTopAlt
                                                                            patternWithoutRange
                                                                              pathPattern
                                                                                pathInExpression
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      identifier
                                                                                        ErrorKind
                                                                                  ::
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      identifier
                                                                                        Interrupted
                                                                      =>
                                                                      matchArmExpression
                                                                        expression
                                                                          continue
                                                                        ,
                                                                      matchArm
                                                                        pattern
                                                                          patternNoTopAlt
                                                                            patternWithoutRange
                                                                              wildcardPattern
                                                                                _
                                                                      =>
                                                                      expression
                                                                        expressionWithBlock
                                                                          blockExpression
                                                                            {
                                                                            statements
                                                                              statement
                                                                                item
                                                                                  macroItem
                                                                                    macroInvocationSemi
                                                                                      simplePath
                                                                                        simplePathSegment
                                                                                          identifier
                                                                                            error
                                                                                      !
                                                                                      (
                                                                                      tokenTree
                                                                                        tokenTreeToken
                                                                                          macroLiteralToken
                                                                                            literalExpression
                                                                                              "Event loop polling error: {}"
                                                                                        tokenTreeToken
                                                                                          macroPunctuationToken
                                                                                            ,
                                                                                        tokenTreeToken
                                                                                          macroIdentifierLikeToken
                                                                                            identifier
                                                                                              err
                                                                                      )
                                                                                      ;
                                                                              statement
                                                                                expressionStatement
                                                                                  expression
                                                                                    break
                                                                                    'event_loop
                                                                                  ;
                                                                            }
                                                                      ,
                                                                    }
                                                          }
                                                statement
                                                  expressionStatement
                                                    expressionWithBlock
                                                      ifExpression
                                                        if
                                                        expression
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        events
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  is_empty
                                                            (
                                                            )
                                                          &&
                                                          expression
                                                            expression
                                                              expression
                                                                expression
                                                                  pathExpression
                                                                    pathInExpression
                                                                      pathExprSegment
                                                                        pathIdentSegment
                                                                          self
                                                                .
                                                                identifier
                                                                  rx
                                                              .
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    peek
                                                              (
                                                              )
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  is_none
                                                            (
                                                            )
                                                        blockExpression
                                                          {
                                                          statements
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  expression
                                                                    expression
                                                                      pathExpression
                                                                        pathInExpression
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                state
                                                                    .
                                                                    identifier
                                                                      parser
                                                                  .
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        stop_sync
                                                                  (
                                                                  callParams
                                                                    expression
                                                                      &
                                                                      mut
                                                                      expression
                                                                        *
                                                                        expression
                                                                          expression
                                                                            expression
                                                                              pathExpression
                                                                                pathInExpression
                                                                                  pathExprSegment
                                                                                    pathIdentSegment
                                                                                      self
                                                                            .
                                                                            identifier
                                                                              terminal
                                                                          .
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                lock
                                                                          (
                                                                          )
                                                                  )
                                                                ;
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  expression
                                                                    expression
                                                                      pathExpression
                                                                        pathInExpression
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              self
                                                                    .
                                                                    identifier
                                                                      event_proxy
                                                                  .
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        send_event
                                                                  (
                                                                  callParams
                                                                    expression
                                                                      pathExpression
                                                                        pathInExpression
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                Event
                                                                          ::
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                Wakeup
                                                                  )
                                                                ;
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  continue
                                                                ;
                                                          }
                                                statement
                                                  expressionStatement
                                                    expressionWithBlock
                                                      ifExpression
                                                        if
                                                        expression
                                                          !
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      self
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  drain_recv_channel
                                                            (
                                                            callParams
                                                              expression
                                                                &
                                                                mut
                                                                expression
                                                                  pathExpression
                                                                    pathInExpression
                                                                      pathExprSegment
                                                                        pathIdentSegment
                                                                          identifier
                                                                            state
                                                            )
                                                        blockExpression
                                                          {
                                                          statements
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  break
                                                                ;
                                                          }
                                                statement
                                                  expressionStatement
                                                    expressionWithBlock
                                                      loopExpression
                                                        iteratorLoopExpression
                                                          for
                                                          pattern
                                                            patternNoTopAlt
                                                              patternWithoutRange
                                                                identifierPattern
                                                                  identifier
                                                                    event
                                                          in
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        events
                                                            .
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  iter
                                                            (
                                                            )
                                                          blockExpression
                                                            {
                                                            statements
                                                              statement
                                                                expressionStatement
                                                                  expressionWithBlock
                                                                    matchExpression
                                                                      match
                                                                      expression
                                                                        expression
                                                                          pathExpression
                                                                            pathInExpression
                                                                              pathExprSegment
                                                                                pathIdentSegment
                                                                                  identifier
                                                                                    event
                                                                        .
                                                                        identifier
                                                                          key
                                                                      {
                                                                      matchArms
                                                                        matchArm
                                                                          pattern
                                                                            patternNoTopAlt
                                                                              patternWithoutRange
                                                                                pathPattern
                                                                                  pathInExpression
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          tty
                                                                                    ::
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          PTY_CHILD_EVENT_TOKEN
                                                                        =>
                                                                        matchArmExpression
                                                                          expression
                                                                            expressionWithBlock
                                                                              blockExpression
                                                                                {
                                                                                statements
                                                                                  statement
                                                                                    expressionStatement
                                                                                      expressionWithBlock
                                                                                        ifLetExpression
                                                                                          if
                                                                                          let
                                                                                          pattern
                                                                                            patternNoTopAlt
                                                                                              patternWithoutRange
                                                                                                tupleStructPattern
                                                                                                  pathInExpression
                                                                                                    pathExprSegment
                                                                                                      pathIdentSegment
                                                                                                        identifier
                                                                                                          Some
                                                                                                  (
                                                                                                  tupleStructItems
                                                                                                    pattern
                                                                                                      patternNoTopAlt
                                                                                                        patternWithoutRange
                                                                                                          tupleStructPattern
                                                                                                            pathInExpression
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  identifier
                                                                                                                    tty
                                                                                                              ::
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  identifier
                                                                                                                    ChildEvent
                                                                                                              ::
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  identifier
                                                                                                                    Exited
                                                                                                            (
                                                                                                            tupleStructItems
                                                                                                              pattern
                                                                                                                patternNoTopAlt
                                                                                                                  patternWithoutRange
                                                                                                                    identifierPattern
                                                                                                                      identifier
                                                                                                                        code
                                                                                                            )
                                                                                                  )
                                                                                          =
                                                                                          expression
                                                                                            expression
                                                                                              expression
                                                                                                pathExpression
                                                                                                  pathInExpression
                                                                                                    pathExprSegment
                                                                                                      pathIdentSegment
                                                                                                        self
                                                                                              .
                                                                                              identifier
                                                                                                pty
                                                                                            .
                                                                                            pathExprSegment
                                                                                              pathIdentSegment
                                                                                                identifier
                                                                                                  next_child_event
                                                                                            (
                                                                                            )
                                                                                          blockExpression
                                                                                            {
                                                                                            statements
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expressionWithBlock
                                                                                                    ifLetExpression
                                                                                                      if
                                                                                                      let
                                                                                                      pattern
                                                                                                        patternNoTopAlt
                                                                                                          patternWithoutRange
                                                                                                            tupleStructPattern
                                                                                                              pathInExpression
                                                                                                                pathExprSegment
                                                                                                                  pathIdentSegment
                                                                                                                    identifier
                                                                                                                      Some
                                                                                                              (
                                                                                                              tupleStructItems
                                                                                                                pattern
                                                                                                                  patternNoTopAlt
                                                                                                                    patternWithoutRange
                                                                                                                      identifierPattern
                                                                                                                        identifier
                                                                                                                          code
                                                                                                              )
                                                                                                      =
                                                                                                      expression
                                                                                                        pathExpression
                                                                                                          pathInExpression
                                                                                                            pathExprSegment
                                                                                                              pathIdentSegment
                                                                                                                identifier
                                                                                                                  code
                                                                                                      blockExpression
                                                                                                        {
                                                                                                        statements
                                                                                                          statement
                                                                                                            expressionStatement
                                                                                                              expression
                                                                                                                expression
                                                                                                                  expression
                                                                                                                    pathExpression
                                                                                                                      pathInExpression
                                                                                                                        pathExprSegment
                                                                                                                          pathIdentSegment
                                                                                                                            self
                                                                                                                  .
                                                                                                                  identifier
                                                                                                                    event_proxy
                                                                                                                .
                                                                                                                pathExprSegment
                                                                                                                  pathIdentSegment
                                                                                                                    identifier
                                                                                                                      send_event
                                                                                                                (
                                                                                                                callParams
                                                                                                                  expression
                                                                                                                    expression
                                                                                                                      pathExpression
                                                                                                                        pathInExpression
                                                                                                                          pathExprSegment
                                                                                                                            pathIdentSegment
                                                                                                                              identifier
                                                                                                                                Event
                                                                                                                          ::
                                                                                                                          pathExprSegment
                                                                                                                            pathIdentSegment
                                                                                                                              identifier
                                                                                                                                ChildExit
                                                                                                                    (
                                                                                                                    callParams
                                                                                                                      expression
                                                                                                                        pathExpression
                                                                                                                          pathInExpression
                                                                                                                            pathExprSegment
                                                                                                                              pathIdentSegment
                                                                                                                                identifier
                                                                                                                                  code
                                                                                                                    )
                                                                                                                )
                                                                                                              ;
                                                                                                        }
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expressionWithBlock
                                                                                                    ifExpression
                                                                                                      if
                                                                                                      expression
                                                                                                        expression
                                                                                                          pathExpression
                                                                                                            pathInExpression
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  self
                                                                                                        .
                                                                                                        identifier
                                                                                                          drain_on_exit
                                                                                                      blockExpression
                                                                                                        {
                                                                                                        statements
                                                                                                          statement
                                                                                                            letStatement
                                                                                                              let
                                                                                                              patternNoTopAlt
                                                                                                                patternWithoutRange
                                                                                                                  wildcardPattern
                                                                                                                    _
                                                                                                              =
                                                                                                              expression
                                                                                                                expression
                                                                                                                  pathExpression
                                                                                                                    pathInExpression
                                                                                                                      pathExprSegment
                                                                                                                        pathIdentSegment
                                                                                                                          self
                                                                                                                .
                                                                                                                pathExprSegment
                                                                                                                  pathIdentSegment
                                                                                                                    identifier
                                                                                                                      pty_read
                                                                                                                (
                                                                                                                callParams
                                                                                                                  expression
                                                                                                                    &
                                                                                                                    mut
                                                                                                                    expression
                                                                                                                      pathExpression
                                                                                                                        pathInExpression
                                                                                                                          pathExprSegment
                                                                                                                            pathIdentSegment
                                                                                                                              identifier
                                                                                                                                state
                                                                                                                  ,
                                                                                                                  expression
                                                                                                                    &
                                                                                                                    mut
                                                                                                                    expression
                                                                                                                      pathExpression
                                                                                                                        pathInExpression
                                                                                                                          pathExprSegment
                                                                                                                            pathIdentSegment
                                                                                                                              identifier
                                                                                                                                buf
                                                                                                                  ,
                                                                                                                  expression
                                                                                                                    expression
                                                                                                                      pathExpression
                                                                                                                        pathInExpression
                                                                                                                          pathExprSegment
                                                                                                                            pathIdentSegment
                                                                                                                              identifier
                                                                                                                                pipe
                                                                                                                    .
                                                                                                                    pathExprSegment
                                                                                                                      pathIdentSegment
                                                                                                                        identifier
                                                                                                                          as_mut
                                                                                                                    (
                                                                                                                    )
                                                                                                                )
                                                                                                              ;
                                                                                                        }
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expression
                                                                                                    expression
                                                                                                      expression
                                                                                                        expression
                                                                                                          pathExpression
                                                                                                            pathInExpression
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  self
                                                                                                        .
                                                                                                        identifier
                                                                                                          terminal
                                                                                                      .
                                                                                                      pathExprSegment
                                                                                                        pathIdentSegment
                                                                                                          identifier
                                                                                                            lock
                                                                                                      (
                                                                                                      )
                                                                                                    .
                                                                                                    pathExprSegment
                                                                                                      pathIdentSegment
                                                                                                        identifier
                                                                                                          exit
                                                                                                    (
                                                                                                    )
                                                                                                  ;
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expression
                                                                                                    expression
                                                                                                      expression
                                                                                                        pathExpression
                                                                                                          pathInExpression
                                                                                                            pathExprSegment
                                                                                                              pathIdentSegment
                                                                                                                self
                                                                                                      .
                                                                                                      identifier
                                                                                                        event_proxy
                                                                                                    .
                                                                                                    pathExprSegment
                                                                                                      pathIdentSegment
                                                                                                        identifier
                                                                                                          send_event
                                                                                                    (
                                                                                                    callParams
                                                                                                      expression
                                                                                                        pathExpression
                                                                                                          pathInExpression
                                                                                                            pathExprSegment
                                                                                                              pathIdentSegment
                                                                                                                identifier
                                                                                                                  Event
                                                                                                            ::
                                                                                                            pathExprSegment
                                                                                                              pathIdentSegment
                                                                                                                identifier
                                                                                                                  Wakeup
                                                                                                    )
                                                                                                  ;
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expression
                                                                                                    break
                                                                                                    'event_loop
                                                                                                  ;
                                                                                            }
                                                                                }
                                                                          ,
                                                                        matchArm
                                                                          pattern
                                                                            patternNoTopAlt
                                                                              patternWithoutRange
                                                                                pathPattern
                                                                                  pathInExpression
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          tty
                                                                                    ::
                                                                                    pathExprSegment
                                                                                      pathIdentSegment
                                                                                        identifier
                                                                                          PTY_READ_WRITE_TOKEN
                                                                        =>
                                                                        matchArmExpression
                                                                          expression
                                                                            expressionWithBlock
                                                                              blockExpression
                                                                                {
                                                                                statements
                                                                                  statement
                                                                                    expressionStatement
                                                                                      expressionWithBlock
                                                                                        ifExpression
                                                                                          if
                                                                                          expression
                                                                                            expression
                                                                                              pathExpression
                                                                                                pathInExpression
                                                                                                  pathExprSegment
                                                                                                    pathIdentSegment
                                                                                                      identifier
                                                                                                        event
                                                                                            .
                                                                                            pathExprSegment
                                                                                              pathIdentSegment
                                                                                                identifier
                                                                                                  is_interrupt
                                                                                            (
                                                                                            )
                                                                                          blockExpression
                                                                                            {
                                                                                            statements
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expression
                                                                                                    continue
                                                                                                  ;
                                                                                            }
                                                                                  statement
                                                                                    expressionStatement
                                                                                      expressionWithBlock
                                                                                        ifExpression
                                                                                          if
                                                                                          expression
                                                                                            expression
                                                                                              pathExpression
                                                                                                pathInExpression
                                                                                                  pathExprSegment
                                                                                                    pathIdentSegment
                                                                                                      identifier
                                                                                                        event
                                                                                            .
                                                                                            identifier
                                                                                              readable
                                                                                          blockExpression
                                                                                            {
                                                                                            statements
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expressionWithBlock
                                                                                                    ifLetExpression
                                                                                                      if
                                                                                                      let
                                                                                                      pattern
                                                                                                        patternNoTopAlt
                                                                                                          patternWithoutRange
                                                                                                            tupleStructPattern
                                                                                                              pathInExpression
                                                                                                                pathExprSegment
                                                                                                                  pathIdentSegment
                                                                                                                    identifier
                                                                                                                      Err
                                                                                                              (
                                                                                                              tupleStructItems
                                                                                                                pattern
                                                                                                                  patternNoTopAlt
                                                                                                                    patternWithoutRange
                                                                                                                      identifierPattern
                                                                                                                        identifier
                                                                                                                          err
                                                                                                              )
                                                                                                      =
                                                                                                      expression
                                                                                                        expression
                                                                                                          pathExpression
                                                                                                            pathInExpression
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  self
                                                                                                        .
                                                                                                        pathExprSegment
                                                                                                          pathIdentSegment
                                                                                                            identifier
                                                                                                              pty_read
                                                                                                        (
                                                                                                        callParams
                                                                                                          expression
                                                                                                            &
                                                                                                            mut
                                                                                                            expression
                                                                                                              pathExpression
                                                                                                                pathInExpression
                                                                                                                  pathExprSegment
                                                                                                                    pathIdentSegment
                                                                                                                      identifier
                                                                                                                        state
                                                                                                          ,
                                                                                                          expression
                                                                                                            &
                                                                                                            mut
                                                                                                            expression
                                                                                                              pathExpression
                                                                                                                pathInExpression
                                                                                                                  pathExprSegment
                                                                                                                    pathIdentSegment
                                                                                                                      identifier
                                                                                                                        buf
                                                                                                          ,
                                                                                                          expression
                                                                                                            expression
                                                                                                              pathExpression
                                                                                                                pathInExpression
                                                                                                                  pathExprSegment
                                                                                                                    pathIdentSegment
                                                                                                                      identifier
                                                                                                                        pipe
                                                                                                            .
                                                                                                            pathExprSegment
                                                                                                              pathIdentSegment
                                                                                                                identifier
                                                                                                                  as_mut
                                                                                                            (
                                                                                                            )
                                                                                                        )
                                                                                                      blockExpression
                                                                                                        {
                                                                                                        statements
                                                                                                          statement
                                                                                                            expressionStatement
                                                                                                              expressionWithBlock
                                                                                                                outerAttribute
                                                                                                                  #
                                                                                                                  [
                                                                                                                  attr
                                                                                                                    simplePath
                                                                                                                      simplePathSegment
                                                                                                                        identifier
                                                                                                                          cfg
                                                                                                                    attrInput
                                                                                                                      delimTokenTree
                                                                                                                        (
                                                                                                                        tokenTree
                                                                                                                          tokenTreeToken
                                                                                                                            macroIdentifierLikeToken
                                                                                                                              identifier
                                                                                                                                target_os
                                                                                                                          tokenTreeToken
                                                                                                                            macroPunctuationToken
                                                                                                                              =
                                                                                                                          tokenTreeToken
                                                                                                                            macroLiteralToken
                                                                                                                              literalExpression
                                                                                                                                "linux"
                                                                                                                        )
                                                                                                                  ]
                                                                                                                expressionWithBlock
                                                                                                                  ifExpression
                                                                                                                    if
                                                                                                                    expression
                                                                                                                      expression
                                                                                                                        expression
                                                                                                                          pathExpression
                                                                                                                            pathInExpression
                                                                                                                              pathExprSegment
                                                                                                                                pathIdentSegment
                                                                                                                                  identifier
                                                                                                                                    err
                                                                                                                        .
                                                                                                                        pathExprSegment
                                                                                                                          pathIdentSegment
                                                                                                                            identifier
                                                                                                                              raw_os_error
                                                                                                                        (
                                                                                                                        )
                                                                                                                      comparisonOperator
                                                                                                                        ==
                                                                                                                      expression
                                                                                                                        expression
                                                                                                                          pathExpression
                                                                                                                            pathInExpression
                                                                                                                              pathExprSegment
                                                                                                                                pathIdentSegment
                                                                                                                                  identifier
                                                                                                                                    Some
                                                                                                                        (
                                                                                                                        callParams
                                                                                                                          expression
                                                                                                                            pathExpression
                                                                                                                              pathInExpression
                                                                                                                                pathExprSegment
                                                                                                                                  pathIdentSegment
                                                                                                                                    identifier
                                                                                                                                      libc
                                                                                                                                ::
                                                                                                                                pathExprSegment
                                                                                                                                  pathIdentSegment
                                                                                                                                    identifier
                                                                                                                                      EIO
                                                                                                                        )
                                                                                                                    blockExpression
                                                                                                                      {
                                                                                                                      statements
                                                                                                                        statement
                                                                                                                          expressionStatement
                                                                                                                            expression
                                                                                                                              continue
                                                                                                                            ;
                                                                                                                      }
                                                                                                          statement
                                                                                                            item
                                                                                                              macroItem
                                                                                                                macroInvocationSemi
                                                                                                                  simplePath
                                                                                                                    simplePathSegment
                                                                                                                      identifier
                                                                                                                        error
                                                                                                                  !
                                                                                                                  (
                                                                                                                  tokenTree
                                                                                                                    tokenTreeToken
                                                                                                                      macroLiteralToken
                                                                                                                        literalExpression
                                                                                                                          "Error reading from PTY in event loop: {}"
                                                                                                                    tokenTreeToken
                                                                                                                      macroPunctuationToken
                                                                                                                        ,
                                                                                                                    tokenTreeToken
                                                                                                                      macroIdentifierLikeToken
                                                                                                                        identifier
                                                                                                                          err
                                                                                                                  )
                                                                                                                  ;
                                                                                                          statement
                                                                                                            expressionStatement
                                                                                                              expression
                                                                                                                break
                                                                                                                'event_loop
                                                                                                              ;
                                                                                                        }
                                                                                            }
                                                                                  statement
                                                                                    expressionStatement
                                                                                      expressionWithBlock
                                                                                        ifExpression
                                                                                          if
                                                                                          expression
                                                                                            expression
                                                                                              pathExpression
                                                                                                pathInExpression
                                                                                                  pathExprSegment
                                                                                                    pathIdentSegment
                                                                                                      identifier
                                                                                                        event
                                                                                            .
                                                                                            identifier
                                                                                              writable
                                                                                          blockExpression
                                                                                            {
                                                                                            statements
                                                                                              statement
                                                                                                expressionStatement
                                                                                                  expressionWithBlock
                                                                                                    ifLetExpression
                                                                                                      if
                                                                                                      let
                                                                                                      pattern
                                                                                                        patternNoTopAlt
                                                                                                          patternWithoutRange
                                                                                                            tupleStructPattern
                                                                                                              pathInExpression
                                                                                                                pathExprSegment
                                                                                                                  pathIdentSegment
                                                                                                                    identifier
                                                                                                                      Err
                                                                                                              (
                                                                                                              tupleStructItems
                                                                                                                pattern
                                                                                                                  patternNoTopAlt
                                                                                                                    patternWithoutRange
                                                                                                                      identifierPattern
                                                                                                                        identifier
                                                                                                                          err
                                                                                                              )
                                                                                                      =
                                                                                                      expression
                                                                                                        expression
                                                                                                          pathExpression
                                                                                                            pathInExpression
                                                                                                              pathExprSegment
                                                                                                                pathIdentSegment
                                                                                                                  self
                                                                                                        .
                                                                                                        pathExprSegment
                                                                                                          pathIdentSegment
                                                                                                            identifier
                                                                                                              pty_write
                                                                                                        (
                                                                                                        callParams
                                                                                                          expression
                                                                                                            &
                                                                                                            mut
                                                                                                            expression
                                                                                                              pathExpression
                                                                                                                pathInExpression
                                                                                                                  pathExprSegment
                                                                                                                    pathIdentSegment
                                                                                                                      identifier
                                                                                                                        state
                                                                                                        )
                                                                                                      blockExpression
                                                                                                        {
                                                                                                        statements
                                                                                                          statement
                                                                                                            item
                                                                                                              macroItem
                                                                                                                macroInvocationSemi
                                                                                                                  simplePath
                                                                                                                    simplePathSegment
                                                                                                                      identifier
                                                                                                                        error
                                                                                                                  !
                                                                                                                  (
                                                                                                                  tokenTree
                                                                                                                    tokenTreeToken
                                                                                                                      macroLiteralToken
                                                                                                                        literalExpression
                                                                                                                          "Error writing to PTY in event loop: {}"
                                                                                                                    tokenTreeToken
                                                                                                                      macroPunctuationToken
                                                                                                                        ,
                                                                                                                    tokenTreeToken
                                                                                                                      macroIdentifierLikeToken
                                                                                                                        identifier
                                                                                                                          err
                                                                                                                  )
                                                                                                                  ;
                                                                                                          statement
                                                                                                            expressionStatement
                                                                                                              expression
                                                                                                                break
                                                                                                                'event_loop
                                                                                                              ;
                                                                                                        }
                                                                                            }
                                                                                }
                                                                          ,
                                                                        matchArm
                                                                          pattern
                                                                            patternNoTopAlt
                                                                              patternWithoutRange
                                                                                wildcardPattern
                                                                                  _
                                                                        =>
                                                                        expression
                                                                          (
                                                                          )
                                                                        ,
                                                                      }
                                                            }
                                                statement
                                                  letStatement
                                                    let
                                                    patternNoTopAlt
                                                      patternWithoutRange
                                                        identifierPattern
                                                          identifier
                                                            needs_write
                                                    =
                                                    expression
                                                      expression
                                                        pathExpression
                                                          pathInExpression
                                                            pathExprSegment
                                                              pathIdentSegment
                                                                identifier
                                                                  state
                                                      .
                                                      pathExprSegment
                                                        pathIdentSegment
                                                          identifier
                                                            needs_write
                                                      (
                                                      )
                                                    ;
                                                statement
                                                  expressionStatement
                                                    expressionWithBlock
                                                      ifExpression
                                                        if
                                                        expression
                                                          expression
                                                            pathExpression
                                                              pathInExpression
                                                                pathExprSegment
                                                                  pathIdentSegment
                                                                    identifier
                                                                      needs_write
                                                          comparisonOperator
                                                            !=
                                                          expression
                                                            expression
                                                              pathExpression
                                                                pathInExpression
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        interest
                                                            .
                                                            identifier
                                                              writable
                                                        blockExpression
                                                          {
                                                          statements
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  expression
                                                                    expression
                                                                      pathExpression
                                                                        pathInExpression
                                                                          pathExprSegment
                                                                            pathIdentSegment
                                                                              identifier
                                                                                interest
                                                                    .
                                                                    identifier
                                                                      writable
                                                                  =
                                                                  expression
                                                                    pathExpression
                                                                      pathInExpression
                                                                        pathExprSegment
                                                                          pathIdentSegment
                                                                            identifier
                                                                              needs_write
                                                                ;
                                                            statement
                                                              expressionStatement
                                                                expression
                                                                  expression
                                                                    expression
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                self
                                                                      .
                                                                      identifier
                                                                        pty
                                                                    .
                                                                    pathExprSegment
                                                                      pathIdentSegment
                                                                        identifier
                                                                          reregister
                                                                    (
                                                                    callParams
                                                                      expression
                                                                        &
                                                                        expression
                                                                          expression
                                                                            pathExpression
                                                                              pathInExpression
                                                                                pathExprSegment
                                                                                  pathIdentSegment
                                                                                    self
                                                                          .
                                                                          identifier
                                                                            poll
                                                                      ,
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  interest
                                                                      ,
                                                                      expression
                                                                        pathExpression
                                                                          pathInExpression
                                                                            pathExprSegment
                                                                              pathIdentSegment
                                                                                identifier
                                                                                  poll_opts
                                                                    )
                                                                  .
                                                                  pathExprSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        unwrap
                                                                  (
                                                                  )
                                                                ;
                                                          }
                                              }
                                  statement
                                    letStatement
                                      let
                                      patternNoTopAlt
                                        patternWithoutRange
                                          wildcardPattern
                                            _
                                      =
                                      expression
                                        expression
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    self
                                          .
                                          identifier
                                            pty
                                        .
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              deregister
                                        (
                                        callParams
                                          expression
                                            &
                                            expression
                                              expression
                                                pathExpression
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        self
                                              .
                                              identifier
                                                poll
                                        )
                                      ;
                                  expression
                                    (
                                    tupleElements
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                self
                                      ,
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                identifier
                                                  state
                                    )
                                }
                    )
                }
          }
  item
    visItem
      struct_
        structStruct
          struct
          identifier
            Writing
          {
          structFields
            structField
              identifier
                source
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Cow
                          genericArgs
                            <
                            genericArgsLifetimes
                              lifetime
                                'static
                            ,
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  sliceType
                                    [
                                    type_
                                      typeNoBounds
                                        traitObjectTypeOneBound
                                          traitBound
                                            typePath
                                              typePathSegment
                                                pathIdentSegment
                                                  identifier
                                                    u8
                                    ]
                            >
            ,
            structField
              identifier
                written
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              usize
            ,
          }
  item
    visItem
      visibility
        pub
      struct_
        tupleStruct
          struct
          identifier
            Notifier
          (
          tupleFields
            tupleField
              visibility
                pub
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              EventLoopSender
          )
          ;
  item
    visItem
      implementation
        traitImpl
          impl
          typePath
            typePathSegment
              pathIdentSegment
                identifier
                  event
            ::
            typePathSegment
              pathIdentSegment
                identifier
                  Notify
          for
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          Notifier
          {
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                notify
              genericParams
                <
                genericParam
                  typeParam
                    identifier
                      B
                >
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              bytes
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    B
              )
              whereClause
                where
                whereClauseItem
                  typeBoundWhereClauseItem
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    B
                    :
                    typeParamBounds
                      typeParamBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  Into
                              genericArgs
                                <
                                genericArgsTypes
                                  type_
                                    typeNoBounds
                                      traitObjectTypeOneBound
                                        traitBound
                                          typePath
                                            typePathSegment
                                              pathIdentSegment
                                                identifier
                                                  Cow
                                              genericArgs
                                                <
                                                genericArgsLifetimes
                                                  lifetime
                                                    'static
                                                ,
                                                genericArgsTypes
                                                  type_
                                                    typeNoBounds
                                                      sliceType
                                                        [
                                                        type_
                                                          typeNoBounds
                                                            traitObjectTypeOneBound
                                                              traitBound
                                                                typePath
                                                                  typePathSegment
                                                                    pathIdentSegment
                                                                      identifier
                                                                        u8
                                                        ]
                                                >
                                >
                ,
              blockExpression
                {
                statements
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              bytes
                      =
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    bytes
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              into
                        (
                        )
                      ;
                  statement
                    expressionStatement
                      expressionWithBlock
                        ifExpression
                          if
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          bytes
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    len
                              (
                              )
                            comparisonOperator
                              ==
                            expression
                              literalExpression
                                0
                          blockExpression
                            {
                            statements
                              statement
                                expressionStatement
                                  expression
                                    return
                                  ;
                            }
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          wildcardPattern
                            _
                      =
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          tupleIndex
                            0
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              send
                        (
                        callParams
                          expression
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Msg
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Input
                            (
                            callParams
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          bytes
                            )
                        )
                      ;
                }
          }
  item
    visItem
      implementation
        traitImpl
          impl
          typePath
            typePathSegment
              pathIdentSegment
                identifier
                  event
            ::
            typePathSegment
              pathIdentSegment
                identifier
                  OnResize
          for
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          Notifier
          {
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                on_resize
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              window_size
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    WindowSize
              )
              blockExpression
                {
                statements
                  statement
                    letStatement
                      let
                      patternNoTopAlt
                        patternWithoutRange
                          wildcardPattern
                            _
                      =
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          tupleIndex
                            0
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              send
                        (
                        callParams
                          expression
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Msg
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Resize
                            (
                            callParams
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          window_size
                            )
                        )
                      ;
                }
          }
  item
    outerAttribute
      #
      [
      attr
        simplePath
          simplePathSegment
            identifier
              derive
        attrInput
          delimTokenTree
            (
            tokenTree
              tokenTreeToken
                macroIdentifierLikeToken
                  identifier
                    Debug
            )
      ]
    visItem
      visibility
        pub
      enumeration
        enum
        identifier
          EventLoopSendError
        {
        enumItems
          enumItem
            identifier
              Io
            enumItemTuple
              (
              tupleFields
                tupleField
                  type_
                    typeNoBounds
                      traitObjectTypeOneBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  io
                            ::
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  Error
              )
          ,
          enumItem
            identifier
              Send
            enumItemTuple
              (
              tupleFields
                tupleField
                  type_
                    typeNoBounds
                      traitObjectTypeOneBound
                        traitBound
                          typePath
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  mpsc
                            ::
                            typePathSegment
                              pathIdentSegment
                                identifier
                                  SendError
                              genericArgs
                                <
                                genericArgsTypes
                                  type_
                                    typeNoBounds
                                      traitObjectTypeOneBound
                                        traitBound
                                          typePath
                                            typePathSegment
                                              pathIdentSegment
                                                identifier
                                                  Msg
                                >
              )
          ,
        }
  item
    visItem
      implementation
        traitImpl
          impl
          typePath
            typePathSegment
              pathIdentSegment
                identifier
                  Display
          for
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          EventLoopSendError
          {
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                fmt
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              f
                    :
                    type_
                      typeNoBounds
                        referenceType
                          &
                          mut
                          typeNoBounds
                            traitObjectTypeOneBound
                              traitBound
                                typePath
                                  typePathSegment
                                    pathIdentSegment
                                      identifier
                                        Formatter
                                    genericArgs
                                      <
                                      genericArgsLifetimes
                                        lifetime
                                          '_
                                      >
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                fmt
                          ::
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Result
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        matchExpression
                          match
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          {
                          matchArms
                            matchArm
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    tupleStructPattern
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              EventLoopSendError
                                        ::
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              Io
                                      (
                                      tupleStructItems
                                        pattern
                                          patternNoTopAlt
                                            patternWithoutRange
                                              identifierPattern
                                                identifier
                                                  err
                                      )
                            =>
                            matchArmExpression
                              expression
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            err
                                .
                                pathExprSegment
                                  pathIdentSegment
                                    identifier
                                      fmt
                                (
                                callParams
                                  expression
                                    pathExpression
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              f
                                )
                              ,
                            matchArm
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    tupleStructPattern
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              EventLoopSendError
                                        ::
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              Send
                                      (
                                      tupleStructItems
                                        pattern
                                          patternNoTopAlt
                                            patternWithoutRange
                                              identifierPattern
                                                identifier
                                                  err
                                      )
                            =>
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          err
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    fmt
                              (
                              callParams
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            f
                              )
                            ,
                          }
                }
          }
  item
    visItem
      implementation
        traitImpl
          impl
          typePath
            typePathSegment
              pathIdentSegment
                identifier
                  std
            ::
            typePathSegment
              pathIdentSegment
                identifier
                  error
            ::
            typePathSegment
              pathIdentSegment
                identifier
                  Error
          for
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          EventLoopSendError
          {
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                source
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Option
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    referenceType
                                      &
                                      typeNoBounds
                                        parenthesizedType
                                          (
                                          type_
                                            traitObjectType
                                              dyn
                                              typeParamBounds
                                                typeParamBound
                                                  traitBound
                                                    typePath
                                                      typePathSegment
                                                        pathIdentSegment
                                                          identifier
                                                            std
                                                      ::
                                                      typePathSegment
                                                        pathIdentSegment
                                                          identifier
                                                            error
                                                      ::
                                                      typePathSegment
                                                        pathIdentSegment
                                                          identifier
                                                            Error
                                                +
                                                typeParamBound
                                                  lifetime
                                                    'static
                                          )
                              >
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        matchExpression
                          match
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          {
                          matchArms
                            matchArm
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    tupleStructPattern
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              EventLoopSendError
                                        ::
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              Io
                                      (
                                      tupleStructItems
                                        pattern
                                          patternNoTopAlt
                                            patternWithoutRange
                                              identifierPattern
                                                identifier
                                                  err
                                      )
                            =>
                            matchArmExpression
                              expression
                                expression
                                  pathExpression
                                    pathInExpression
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            err
                                .
                                pathExprSegment
                                  pathIdentSegment
                                    identifier
                                      source
                                (
                                )
                              ,
                            matchArm
                              pattern
                                patternNoTopAlt
                                  patternWithoutRange
                                    tupleStructPattern
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              EventLoopSendError
                                        ::
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              Send
                                      (
                                      tupleStructItems
                                        pattern
                                          patternNoTopAlt
                                            patternWithoutRange
                                              identifierPattern
                                                identifier
                                                  err
                                      )
                            =>
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          err
                              .
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    source
                              (
                              )
                            ,
                          }
                }
          }
  item
    outerAttribute
      #
      [
      attr
        simplePath
          simplePathSegment
            identifier
              derive
        attrInput
          delimTokenTree
            (
            tokenTree
              tokenTreeToken
                macroIdentifierLikeToken
                  identifier
                    Clone
            )
      ]
    visItem
      visibility
        pub
      struct_
        structStruct
          struct
          identifier
            EventLoopSender
          {
          structFields
            structField
              identifier
                sender
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Sender
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Msg
                            >
            ,
            structField
              identifier
                poller
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Arc
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              polling
                                        ::
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Poller
                            >
            ,
          }
  item
    visItem
      implementation
        inherentImpl
          impl
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          EventLoopSender
          {
          associatedItem
            visibility
              pub
            function_
              functionQualifiers
              fn
              identifier
                send
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              msg
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Msg
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Result
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    tupleType
                                      (
                                      )
                                ,
                                type_
                                  typeNoBounds
                                    traitObjectTypeOneBound
                                      traitBound
                                        typePath
                                          typePathSegment
                                            pathIdentSegment
                                              identifier
                                                EventLoopSendError
                              >
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expression
                        expression
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                sender
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  send
                            (
                            callParams
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          msg
                            )
                          .
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                map_err
                          (
                          callParams
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        EventLoopSendError
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Send
                          )
                        ?
                      ;
                  expression
                    expression
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  self
                        .
                        identifier
                          poller
                      .
                      pathExprSegment
                        pathIdentSegment
                          identifier
                            notify
                      (
                      )
                    .
                    pathExprSegment
                      pathIdentSegment
                        identifier
                          map_err
                    (
                    callParams
                      expression
                        pathExpression
                          pathInExpression
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  EventLoopSendError
                            ::
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  Io
                    )
                }
          }
  item
    outerAttribute
      #
      [
      attr
        simplePath
          simplePathSegment
            identifier
              derive
        attrInput
          delimTokenTree
            (
            tokenTree
              tokenTreeToken
                macroIdentifierLikeToken
                  identifier
                    Default
            )
      ]
    visItem
      visibility
        pub
      struct_
        structStruct
          struct
          identifier
            State
          {
          structFields
            structField
              identifier
                write_list
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              VecDeque
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Cow
                                          genericArgs
                                            <
                                            genericArgsLifetimes
                                              lifetime
                                                'static
                                            ,
                                            genericArgsTypes
                                              type_
                                                typeNoBounds
                                                  sliceType
                                                    [
                                                    type_
                                                      typeNoBounds
                                                        traitObjectTypeOneBound
                                                          traitBound
                                                            typePath
                                                              typePathSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    u8
                                                    ]
                                            >
                            >
            ,
            structField
              identifier
                writing
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Option
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              Writing
                            >
            ,
            structField
              identifier
                parser
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              ansi
                        ::
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Processor
            ,
          }
  item
    visItem
      implementation
        inherentImpl
          impl
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          State
          {
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                ensure_next
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
              )
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        ifExpression
                          if
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                writing
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  is_none
                            (
                            )
                          blockExpression
                            {
                            statements
                              statement
                                expressionStatement
                                  expression
                                    expression
                                      pathExpression
                                        pathInExpression
                                          pathExprSegment
                                            pathIdentSegment
                                              self
                                    .
                                    pathExprSegment
                                      pathIdentSegment
                                        identifier
                                          goto_next
                                    (
                                    )
                                  ;
                            }
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                goto_next
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
              )
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          identifier
                            writing
                        =
                        expression
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                write_list
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  pop_front
                            (
                            )
                          .
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                map
                          (
                          callParams
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        Writing
                                  ::
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        new
                          )
                      ;
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                take_current
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Option
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    traitObjectTypeOneBound
                                      traitBound
                                        typePath
                                          typePathSegment
                                            pathIdentSegment
                                              identifier
                                                Writing
                              >
              blockExpression
                {
                statements
                  expression
                    expression
                      expression
                        pathExpression
                          pathInExpression
                            pathExprSegment
                              pathIdentSegment
                                self
                      .
                      identifier
                        writing
                    .
                    pathExprSegment
                      pathIdentSegment
                        identifier
                          take
                    (
                    )
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                needs_write
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                bool
              blockExpression
                {
                statements
                  expression
                    expression
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  self
                        .
                        identifier
                          writing
                      .
                      pathExprSegment
                        pathIdentSegment
                          identifier
                            is_some
                      (
                      )
                    ||
                    expression
                      !
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          identifier
                            write_list
                        .
                        pathExprSegment
                          pathIdentSegment
                            identifier
                              is_empty
                        (
                        )
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                set_current
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              new
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Option
                                genericArgs
                                  <
                                  genericArgsTypes
                                    type_
                                      typeNoBounds
                                        traitObjectTypeOneBound
                                          traitBound
                                            typePath
                                              typePathSegment
                                                pathIdentSegment
                                                  identifier
                                                    Writing
                                  >
              )
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          identifier
                            writing
                        =
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    new
                      ;
                }
          }
  item
    visItem
      implementation
        inherentImpl
          impl
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          Writing
          {
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                new
              (
              functionParameters
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              c
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Cow
                                genericArgs
                                  <
                                  genericArgsLifetimes
                                    lifetime
                                      'static
                                  ,
                                  genericArgsTypes
                                    type_
                                      typeNoBounds
                                        sliceType
                                          [
                                          type_
                                            typeNoBounds
                                              traitObjectTypeOneBound
                                                traitBound
                                                  typePath
                                                    typePathSegment
                                                      pathIdentSegment
                                                        identifier
                                                          u8
                                          ]
                                  >
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Writing
              blockExpression
                {
                statements
                  expression
                    structExpression
                      structExprStruct
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              identifier
                                Writing
                        {
                        structExprFields
                          structExprField
                            identifier
                              source
                            :
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        c
                          ,
                          structExprField
                            identifier
                              written
                            :
                            expression
                              literalExpression
                                0
                        }
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                advance
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
                ,
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              n
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    usize
              )
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          identifier
                            written
                        compoundAssignOperator
                          +=
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  identifier
                                    n
                      ;
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                remaining_bytes
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    referenceType
                      &
                      typeNoBounds
                        sliceType
                          [
                          type_
                            typeNoBounds
                              traitObjectTypeOneBound
                                traitBound
                                  typePath
                                    typePathSegment
                                      pathIdentSegment
                                        identifier
                                          u8
                          ]
              blockExpression
                {
                statements
                  expression
                    &
                    expression
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  self
                        .
                        identifier
                          source
                      [
                      expression
                        expression
                          expression
                            pathExpression
                              pathInExpression
                                pathExprSegment
                                  pathIdentSegment
                                    self
                          .
                          identifier
                            written
                        ..
                      ]
                }
          associatedItem
            outerAttribute
              #
              [
              attr
                simplePath
                  simplePathSegment
                    identifier
                      inline
              ]
            function_
              functionQualifiers
              fn
              identifier
                finished
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                bool
              blockExpression
                {
                statements
                  expression
                    expression
                      expression
                        pathExpression
                          pathInExpression
                            pathExprSegment
                              pathIdentSegment
                                self
                      .
                      identifier
                        written
                    comparisonOperator
                      >=
                    expression
                      expression
                        expression
                          pathExpression
                            pathInExpression
                              pathExprSegment
                                pathIdentSegment
                                  self
                        .
                        identifier
                          source
                      .
                      pathExprSegment
                        pathIdentSegment
                          identifier
                            len
                      (
                      )
                }
          }
  item
    visItem
      struct_
        structStruct
          struct
          identifier
            PeekableReceiver
          genericParams
            <
            genericParam
              typeParam
                identifier
                  T
            >
          {
          structFields
            structField
              identifier
                rx
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Receiver
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              T
                            >
            ,
            structField
              identifier
                peeked
              :
              type_
                typeNoBounds
                  traitObjectTypeOneBound
                    traitBound
                      typePath
                        typePathSegment
                          pathIdentSegment
                            identifier
                              Option
                          genericArgs
                            <
                            genericArgsTypes
                              type_
                                typeNoBounds
                                  traitObjectTypeOneBound
                                    traitBound
                                      typePath
                                        typePathSegment
                                          pathIdentSegment
                                            identifier
                                              T
                            >
            ,
          }
  item
    visItem
      implementation
        inherentImpl
          impl
          genericParams
            <
            genericParam
              typeParam
                identifier
                  T
            >
          type_
            typeNoBounds
              traitObjectTypeOneBound
                traitBound
                  typePath
                    typePathSegment
                      pathIdentSegment
                        identifier
                          PeekableReceiver
                      genericArgs
                        <
                        genericArgsTypes
                          type_
                            typeNoBounds
                              traitObjectTypeOneBound
                                traitBound
                                  typePath
                                    typePathSegment
                                      pathIdentSegment
                                        identifier
                                          T
                        >
          {
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                new
              (
              functionParameters
                functionParam
                  functionParamPattern
                    pattern
                      patternNoTopAlt
                        patternWithoutRange
                          identifierPattern
                            identifier
                              rx
                    :
                    type_
                      typeNoBounds
                        traitObjectTypeOneBound
                          traitBound
                            typePath
                              typePathSegment
                                pathIdentSegment
                                  identifier
                                    Receiver
                                genericArgs
                                  <
                                  genericArgsTypes
                                    type_
                                      typeNoBounds
                                        traitObjectTypeOneBound
                                          traitBound
                                            typePath
                                              typePathSegment
                                                pathIdentSegment
                                                  identifier
                                                    T
                                  >
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              Self
              blockExpression
                {
                statements
                  expression
                    structExpression
                      structExprStruct
                        pathInExpression
                          pathExprSegment
                            pathIdentSegment
                              Self
                        {
                        structExprFields
                          structExprField
                            identifier
                              rx
                          ,
                          structExprField
                            identifier
                              peeked
                            :
                            expression
                              pathExpression
                                pathInExpression
                                  pathExprSegment
                                    pathIdentSegment
                                      identifier
                                        None
                        }
                }
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                peek
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Option
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    referenceType
                                      &
                                      typeNoBounds
                                        traitObjectTypeOneBound
                                          traitBound
                                            typePath
                                              typePathSegment
                                                pathIdentSegment
                                                  identifier
                                                    T
                              >
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        ifExpression
                          if
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                peeked
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  is_none
                            (
                            )
                          blockExpression
                            {
                            statements
                              statement
                                expressionStatement
                                  expression
                                    expression
                                      expression
                                        pathExpression
                                          pathInExpression
                                            pathExprSegment
                                              pathIdentSegment
                                                self
                                      .
                                      identifier
                                        peeked
                                    =
                                    expression
                                      expression
                                        expression
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    self
                                          .
                                          identifier
                                            rx
                                        .
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              try_recv
                                        (
                                        )
                                      .
                                      pathExprSegment
                                        pathIdentSegment
                                          identifier
                                            ok
                                      (
                                      )
                                  ;
                            }
                  expression
                    expression
                      expression
                        pathExpression
                          pathInExpression
                            pathExprSegment
                              pathIdentSegment
                                self
                      .
                      identifier
                        peeked
                    .
                    pathExprSegment
                      pathIdentSegment
                        identifier
                          as_ref
                    (
                    )
                }
          associatedItem
            function_
              functionQualifiers
              fn
              identifier
                recv
              (
              functionParameters
                selfParam
                  shorthandSelf
                    &
                    mut
                    self
              )
              functionReturnType
                ->
                type_
                  typeNoBounds
                    traitObjectTypeOneBound
                      traitBound
                        typePath
                          typePathSegment
                            pathIdentSegment
                              identifier
                                Option
                            genericArgs
                              <
                              genericArgsTypes
                                type_
                                  typeNoBounds
                                    traitObjectTypeOneBound
                                      traitBound
                                        typePath
                                          typePathSegment
                                            pathIdentSegment
                                              identifier
                                                T
                              >
              blockExpression
                {
                statements
                  statement
                    expressionStatement
                      expressionWithBlock
                        ifExpression
                          if
                          expression
                            expression
                              expression
                                pathExpression
                                  pathInExpression
                                    pathExprSegment
                                      pathIdentSegment
                                        self
                              .
                              identifier
                                peeked
                            .
                            pathExprSegment
                              pathIdentSegment
                                identifier
                                  is_some
                            (
                            )
                          blockExpression
                            {
                            statements
                              expression
                                expression
                                  expression
                                    pathExpression
                                      pathInExpression
                                        pathExprSegment
                                          pathIdentSegment
                                            self
                                  .
                                  identifier
                                    peeked
                                .
                                pathExprSegment
                                  pathIdentSegment
                                    identifier
                                      take
                                (
                                )
                            }
                          else
                          blockExpression
                            {
                            statements
                              statement
                                expressionStatement
                                  expressionWithBlock
                                    matchExpression
                                      match
                                      expression
                                        expression
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    self
                                          .
                                          identifier
                                            rx
                                        .
                                        pathExprSegment
                                          pathIdentSegment
                                            identifier
                                              try_recv
                                        (
                                        )
                                      {
                                      matchArms
                                        matchArm
                                          pattern
                                            patternNoTopAlt
                                              patternWithoutRange
                                                tupleStructPattern
                                                  pathInExpression
                                                    pathExprSegment
                                                      pathIdentSegment
                                                        identifier
                                                          Err
                                                  (
                                                  tupleStructItems
                                                    pattern
                                                      patternNoTopAlt
                                                        patternWithoutRange
                                                          pathPattern
                                                            pathInExpression
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    TryRecvError
                                                              ::
                                                              pathExprSegment
                                                                pathIdentSegment
                                                                  identifier
                                                                    Disconnected
                                                  )
                                        =>
                                        matchArmExpression
                                          expression
                                            macroInvocation
                                              simplePath
                                                simplePathSegment
                                                  identifier
                                                    panic
                                              !
                                              delimTokenTree
                                                (
                                                tokenTree
                                                  tokenTreeToken
                                                    macroLiteralToken
                                                      literalExpression
                                                        "event loop channel closed"
                                                )
                                          ,
                                        matchArm
                                          pattern
                                            patternNoTopAlt
                                              patternWithoutRange
                                                identifierPattern
                                                  identifier
                                                    res
                                        =>
                                        expression
                                          expression
                                            pathExpression
                                              pathInExpression
                                                pathExprSegment
                                                  pathIdentSegment
                                                    identifier
                                                      res
                                          .
                                          pathExprSegment
                                            pathIdentSegment
                                              identifier
                                                ok
                                          (
                                          )
                                        ,
                                      }
                            }
                }
          }
  <EOF>
